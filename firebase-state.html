<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../iron-meta/iron-meta.html">

<!--
`<firebase-state>` is an element that is sharing globally the `logged`, `user` and `profile` value in read mode of the current user.

Example:

    <firebase-state
      logged="{{logged}}"
      user="{{user}}">
    </firebase-profile>

@group GoogleWebComponents Elements
@element firebase-state
@hero hero.svg
@demo demo/index.html
-->
<dom-module id="firebase-state">
  <template>
    <iron-meta-query key="logged" value="{{logged}}"></iron-meta-query>
    <iron-meta-query key="user" value="{{user}}"></iron-meta-query>
    <iron-meta-query key="profile" value="{{profile}}"></iron-meta-query>
  </template>
  <script>

    Polymer({

      is: 'firebase-state',

      properties: {

        /**
         * Set to `true` if a user is logged in, otherwise `false`
         */
        logged: {
          type: Boolean,
          notify: true
        },

        /**
         * This property reflects the firebase user auth object.
         */
        user: {
          type: Object,
          notify: true
        },

        /**
         * This property reflects the firebase profile object.
         */
        profile: {
          type: Object,
          notify: true
        }

      }

    });

  </script>
</dom-module>
